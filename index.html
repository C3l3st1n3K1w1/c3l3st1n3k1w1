<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Coffee Core (No Teamwork)</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
:root {
  --bg: #1f130f;
  --panel: #2b1a14;
  --accent: #f5c38b;
  --accent-soft: #e3a86a;
  --text: #fdf5e6;
  --muted: #c9b39a;
  --chatbg: #241510;
  --border: #3a241a;
  --danger: #ff6b6b;
}
* { box-sizing:border-box; margin:0; padding:0; font-family:system-ui,sans-serif; }
body {
  background: radial-gradient(circle at top, #3b241a 0, #120806 55%);
  color: var(--text);
  min-height: 100vh;
  display:flex;
  align-items:center;
  justify-content:center;
  padding:16px;
}
.coffee-shell {
  width:430px;
  max-width:100%;
  background:var(--panel);
  border-radius:16px;
  padding:16px;
  border:1px solid var(--border);
  box-shadow:0 0 24px rgba(0,0,0,0.6);
  position:relative;
}
h1 { text-align:center; margin-bottom:10px; font-size:22px; }
.row { display:flex; gap:8px; margin-bottom:8px; }
input,select,button { font-family:inherit; font-size:14px; }
input {
  flex:1;
  padding:6px 8px;
  border-radius:8px;
  border:1px solid var(--border);
  background:#3a241a;
  color:var(--text);
}
input::placeholder { color:#a88a72; }
button {
  flex:1;
  padding:8px 10px;
  border-radius:999px;
  border:none;
  background:var(--accent);
  color:#2b1a14;
  font-weight:600;
  cursor:pointer;
}
button:hover { background:#ffd19f; }
.profile {
  margin-top:8px;
  padding:8px;
  border-radius:10px;
  background:var(--chatbg);
  border:1px solid var(--border);
  display:none;
  font-size:13px;
}
.profile-line { display:flex; align-items:center; gap:6px; }
.profile-emoji { font-size:20px; }
#status { margin-top:6px; font-size:12px; color:var(--muted); min-height:14px; }
#error { margin-top:4px; font-size:12px; color:var(--danger); min-height:14px; }
.game-panel {
  margin-top:12px;
  padding-top:10px;
  border-top:1px solid var(--border);
  display:none;
}
select {
  width:100%;
  padding:6px 8px;
  border-radius:8px;
  border:1px solid var(--border);
  background:#3a241a;
  color:var(--text);
  margin-bottom:6px;
}
.lock-row {
  display:flex;
  align-items:center;
  justify-content:space-between;
  font-size:11px;
  color:var(--muted);
  margin-top:4px;
}
.lock-row label { display:flex; align-items:center; gap:4px; cursor:pointer; }
.lock-row input[type="checkbox"] { width:14px; height:14px; cursor:pointer; }
.chat-shell {
  margin-top:8px;
  padding:8px;
  border-radius:10px;
  background:var(--chatbg);
  border:1px solid var(--border);
  font-size:12px;
}
.chat-log {
  max-height:90px;
  overflow-y:auto;
  margin-bottom:6px;
}
.chat-input-row { display:flex; gap:4px; }
.chat-input-row input { font-size:12px; padding:4px 6px; }
.chat-input-row button { font-size:12px; padding:4px 6px; }
.chat-msg-p1 { color:#ffd8a0; }
.chat-msg-p2 { color:#c0e6ff; }
.chat-msg-system { color:#ffb3b3; }
#boardContainer { margin-top:10px; min-height:140px; }
.board { display:grid; gap:2px; }
.board-cell {
  width:32px;
  height:32px;
  border-radius:4px;
  background:#3a241a;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:18px;
  cursor:pointer;
}
.board-cell:hover { background:#4a2f20; }
.solo-panel {
  position:absolute;
  right:8px;
  bottom:48px;
  width:220px;
  background:rgba(20,10,7,0.96);
  border-radius:12px;
  border:1px solid var(--border);
  padding:8px;
  display:none;
  font-size:11px;
  z-index:10;
}
.solo-header {
  display:flex;
  justify-content:space-between;
  align-items:center;
  margin-bottom:4px;
}
.solo-close-btn {
  background:var(--accent);
  border:none;
  border-radius:6px;
  padding:2px 6px;
  font-size:10px;
  cursor:pointer;
}
.solo-toggle-btn {
  position:absolute;
  right:8px;
  bottom:8px;
  padding:6px 10px;
  border-radius:999px;
  border:none;
  background:var(--accent);
  color:#2b1a14;
  font-weight:600;
  font-size:12px;
  cursor:pointer;
}
.solo-select {
  width:100%;
  padding:4px 6px;
  border-radius:8px;
  border:1px solid var(--border);
  background:#3a241a;
  color:var(--text);
  font-size:11px;
  margin-bottom:4px;
}
.solo-board {
  margin-top:4px;
  border-radius:8px;
  border:1px solid var(--border);
  padding:4px;
  background:#241510;
  min-height:100px;
}
.solo-status { font-size:11px; color:var(--muted); min-height:14px; margin-top:4px; }
.hidden { display:none !important; }
</style>
</head>
<body>
<div class="coffee-shell">
  <h1>Coffee</h1>

  <div class="row">
    <input id="emojiInputP1" placeholder="P1 Emoji" maxlength="4">
    <input id="nameInputP1" placeholder="P1 Name" maxlength="20">
  </div>
  <div class="row">
    <input id="emojiInputP2" placeholder="P2 Emoji" maxlength="4">
    <input id="nameInputP2" placeholder="P2 Name" maxlength="20">
  </div>

  <div class="row">
    <button id="hostBtn">Make Coffee (P1)</button>
    <button id="joinBtn">Get Coffee (P2)</button>
  </div>

  <div id="profileBox" class="profile">
    <div class="profile-line">
      <span class="profile-emoji" id="profileEmojiP1"></span>
      <span id="profileNameP1">Player 1</span>
      <span id="profileDeviceP1"> Device</span>
    </div>
    <div class="profile-line">
      <span class="profile-emoji" id="profileEmojiP2"></span>
      <span id="profileNameP2">Player 2</span>
      <span id="profileDeviceP2"> Device</span>
    </div>
  </div>

  <div id="status"></div>
  <div id="error"></div>

  <div id="gamePanel" class="game-panel">
    <select id="gameCategorySelect">
      <option value="">Select mode…</option>
      <option value="competitive">2Player Games</option>
    </select>

    <select id="gameSelect">
      <option value="">Select a game…</option>
      <option value="tictactoe">TicTacToe</option>
      <option value="connect4">Connect 4</option>
    </select>

    <div class="lock-row">
      <label>
        <input type="checkbox" id="chatLockToggle">
        <span>Lock chat (both lose chat)</span>
      </label>
    </div>

    <button id="startGameBtn">Start Game</button>

    <div id="boardContainer"></div>

    <div class="chat-shell">
      <div id="chatLog" class="chat-log"></div>
      <div id="chatInputRow" class="chat-input-row">
        <input id="chatInput" placeholder="Chat…">
        <button id="chatSendBtn">Send</button>
      </div>
    </div>
  </div>

  <div id="soloPanel" class="solo-panel">
    <div class="solo-header">
      <span>Solo Mode</span>
      <button id="soloCloseBtn" class="solo-close-btn">X</button>
    </div>
    <select id="soloGameSelect" class="solo-select">
      <option value="tictactoe">Tic-Tac-Toe</option>
      <option value="rps">Rock–Paper–Scissors</option>
      <option value="connect4">Connect 4</option>
    </select>
    <select id="soloControlSelect" class="solo-select">
      <option value="both">Control: Both sides</option>
      <option value="ai">Control: AI opponent</option>
    </select>
    <div id="soloBoard" class="solo-board"></div>
    <div id="soloStatus" class="solo-status"></div>
  </div>

  <button id="soloToggleBtn" class="solo-toggle-btn">SOLO</button>
</div>

<script>
const emojiInputP1 = document.getElementById("emojiInputP1");
const nameInputP1 = document.getElementById("nameInputP1");
const emojiInputP2 = document.getElementById("emojiInputP2");
const nameInputP2 = document.getElementById("nameInputP2");
const hostBtn = document.getElementById("hostBtn");
const joinBtn = document.getElementById("joinBtn");
const profileBox = document.getElementById("profileBox");
const profileEmojiP1 = document.getElementById("profileEmojiP1");
const profileNameP1 = document.getElementById("profileNameP1");
const profileDeviceP1 = document.getElementById("profileDeviceP1");
const profileEmojiP2 = document.getElementById("profileEmojiP2");
const profileNameP2 = document.getElementById("profileNameP2");
const profileDeviceP2 = document.getElementById("profileDeviceP2");
const statusEl = document.getElementById("status");
const errorEl = document.getElementById("error");
const gamePanel = document.getElementById("gamePanel");
const gameCategorySelect = document.getElementById("gameCategorySelect");
const gameSelect = document.getElementById("gameSelect");
const chatLockToggle = document.getElementById("chatLockToggle");
const startGameBtn = document.getElementById("startGameBtn");
const boardContainer = document.getElementById("boardContainer");
const chatLog = document.getElementById("chatLog");
const chatInputRow = document.getElementById("chatInputRow");
const chatInput = document.getElementById("chatInput");
const chatSendBtn = document.getElementById("chatSendBtn");

const soloToggleBtn = document.getElementById("soloToggleBtn");
const soloCloseBtn = document.getElementById("soloCloseBtn");
const soloPanel = document.getElementById("soloPanel");
const soloGameSelect = document.getElementById("soloGameSelect");
const soloControlSelect = document.getElementById("soloControlSelect");
const soloBoard = document.getElementById("soloBoard");
const soloStatus = document.getElementById("soloStatus");

let rolesLocked = false;
let currentGame = null;
let currentTurn = "P1"; // for competitive games

function setStatus(msg){ statusEl.textContent = msg || ""; }
function setError(msg){ errorEl.textContent = msg || ""; }

function detectDeviceIcon() {
  const ua = navigator.userAgent || "";
  if (/Windows/i.test(ua)) return " Windows";
  if (/Macintosh|Mac OS X/i.test(ua)) return "Mac&Cheese";
  if (/Android/i.test(ua)) return " Android";
  if (/iPhone|iPad|iPod/i.test(ua)) return " iOS";
  return " Controller";
}
function isSingleEmoji(str){
  if(!str) return false;
  const arr = Array.from(str.trim());
  return arr.length === 1;
}
function validateName(str){
  if(!str) return false;
  const t = str.trim();
  if(!t) return false;
  const spaces = (t.match(/ /g) || []).length;
  if(spaces > 1) return false;
  if(!/^[A-Za-z0-9 ]+$/.test(t)) return false;
  return true;
}
function updateProfiles(){
  const e1 = emojiInputP1.value.trim();
  const n1 = nameInputP1.value.trim();
  const e2 = emojiInputP2.value.trim();
  const n2 = nameInputP2.value.trim();

  if(!isSingleEmoji(e1) || !validateName(n1) || !isSingleEmoji(e2) || !validateName(n2)){
    setError("Both players need 1 emoji and a valid name.");
    profileBox.style.display = "none";
    return false;
  }
  let name1 = n1;
  let name2 = n2;
  let dev1 = detectDeviceIcon();
  let dev2 = detectDeviceIcon();

  if(name1.endsWith("@%")) {
    name1 = name1.slice(0,-2);
    dev1 = "";
  }
  if(name2.endsWith("@%")) {
    name2 = name2.slice(0,-2);
    dev2 = "";
  }

  profileEmojiP1.textContent = e1;
  profileNameP1.textContent = name1;
  profileDeviceP1.textContent = dev1;

  profileEmojiP2.textContent = e2;
  profileNameP2.textContent = name2;
  profileDeviceP2.textContent = dev2;

  profileBox.style.display = "block";
  setError("");
  return true;
}

emojiInputP1.addEventListener("input", updateProfiles);
nameInputP1.addEventListener("input", updateProfiles);
emojiInputP2.addEventListener("input", updateProfiles);
nameInputP2.addEventListener("input", updateProfiles);

hostBtn.addEventListener("click", () => {
  if(!updateProfiles()) return;
  rolesLocked = true;
  setStatus("P1 is Host. P2 is Joiner. Local hotseat.");
  gamePanel.style.display = "block";
});
joinBtn.addEventListener("click", () => {
  if(!updateProfiles()) return;
  rolesLocked = true;
  setStatus("P2 is Joiner. P1 is Host. Local hotseat.");
  gamePanel.style.display = "block";
});

function addChatMessage(text, who){
  const div = document.createElement("div");
  if(who === "P1") div.className = "chat-msg-p1";
  else if(who === "P2") div.className = "chat-msg-p2";
  else div.className = "chat-msg-system";
  div.textContent = text;
  chatLog.appendChild(div);
  chatLog.scrollTop = chatLog.scrollHeight;
}

chatSendBtn.addEventListener("click", () => {
  const msg = chatInput.value.trim();
  if(!msg) return;
  const prefix = currentTurn === "P1" ? "P1" : "P2";
  addChatMessage(prefix + ": " + msg, prefix);
  chatInput.value = "";
});
chatInput.addEventListener("keydown", e => {
  if(e.key === "Enter") chatSendBtn.click();
});

chatLockToggle.addEventListener("change", () => {
  const locked = chatLockToggle.checked;
  chatInputRow.style.display = locked ? "none" : "flex";
  addChatMessage(locked ? "Chat locked for both players." : "Chat unlocked.", "system");
});

gameCategorySelect.addEventListener("change", () => {
  if(gameCategorySelect.value !== "competitive"){
    gameSelect.value = "";
  }
});

startGameBtn.addEventListener("click", () => {
  if(gameCategorySelect.value !== "competitive"){
    setError("Select mode: 2Player Games.");
    return;
  }
  const g = gameSelect.value;
  if(!g){
    setError("Select a game.");
    return;
  }
  setError("");
  currentGame = g;
  currentTurn = "P1";
  addChatMessage("Starting " + (g === "tictactoe" ? "TicTacToe" : "Connect 4") + ".", "system");
  if(g === "tictactoe") renderTicTacToe();
  else if(g === "connect4") renderConnect4();
});

/* TicTacToe (2player) */
function renderTicTacToe(){
  boardContainer.innerHTML = "";
  const board = document.createElement("div");
  board.className = "board";
  board.style.gridTemplateColumns = "repeat(3, 32px)";
  const cells = Array(9).fill(null);

  function checkWin(player){
    const lines = [
      [0,1,2],[3,4,5],[6,7,8],
      [0,3,6],[1,4,7],[2,5,8],
      [0,4,8],[2,4,6]
    ];
    return lines.some(([a,b,c]) => cells[a] === player && cells[b] === player && cells[c] === player);
  }
  function isFull(){
    return cells.every(c => c !== null);
  }

  cells.forEach((_, i) => {
    const cell = document.createElement("div");
    cell.className = "board-cell";
    cell.addEventListener("click", () => {
      if(cells[i]) return;
      const mark = currentTurn === "P1" ? "X" : "O";
      cells[i] = mark;
      cell.textContent = mark;
      if(checkWin(mark)){
        addChatMessage((currentTurn === "P1" ? "P1" : "P2") + " wins TicTacToe!", "system");
        currentTurn = "P1";
        return;
      }
      if(isFull()){
        addChatMessage("TicTacToe is a draw.", "system");
        currentTurn = "P1";
        return;
      }
      currentTurn = currentTurn === "P1" ? "P2" : "P1";
      setStatus("Turn: " + (currentTurn === "P1" ? "P1" : "P2"));
    });
    board.appendChild(cell);
  });

  boardContainer.appendChild(board);
  setStatus("Turn: P1");
}

/* Connect 4 (2player) */
function renderConnect4(){
  boardContainer.innerHTML = "";
  const rows = 6;
  const cols = 7;
  const grid = Array.from({length:rows}, () => Array(cols).fill(null));
  const board = document.createElement("div");
  board.className = "board";
  board.style.gridTemplateColumns = `repeat(${cols}, 32px)`;

  function checkWin(player){
    // horizontal
    for(let r=0;r<rows;r++){
      for(let c=0;c<cols-3;c++){
        if(grid[r][c]===player && grid[r][c+1]===player && grid[r][c+2]===player && grid[r][c+3]===player) return true;
      }
    }
    // vertical
    for(let c=0;c<cols;c++){
      for(let r=0;r<rows-3;r++){
        if(grid[r][c]===player && grid[r+1][c]===player && grid[r+2][c]===player && grid[r+3][c]===player) return true;
      }
    }
    // diag down-right
    for(let r=0;r<rows-3;r++){
      for(let c=0;c<cols-3;c++){
        if(grid[r][c]===player && grid[r+1][c+1]===player && grid[r+2][c+2]===player && grid[r+3][c+3]===player) return true;
      }
    }
    // diag up-right
    for(let r=3;r<rows;r++){
      for(let c=0;c<cols-3;c++){
        if(grid[r][c]===player && grid[r-1][c+1]===player && grid[r-2][c+2]===player && grid[r-3][c+3]===player) return true;
      }
    }
    return false;
  }
  function isFull(){
    return grid[0].every(c => c !== null);
  }

  function render(){
    board.innerHTML = "";
    for(let r=0;r<rows;r++){
      for(let c=0;c<cols;c++){
        const cell = document.createElement("div");
        cell.className = "board-cell";
        cell.textContent = grid[r][c] || "";
        cell.addEventListener("click", () => {
          for(let rr=rows-1; rr>=0; rr--){
            if(!grid[rr][c]){
              const mark = currentTurn === "P1" ? "" : "";
              grid[rr][c] = mark;
              render();
              if(checkWin(mark)){
                addChatMessage((currentTurn === "P1" ? "P1" : "P2") + " wins Connect 4!", "system");
                currentTurn = "P1";
                return;
              }
              if(isFull()){
                addChatMessage("Connect 4 is a draw.", "system");
                currentTurn = "P1";
                return;
              }
              currentTurn = currentTurn === "P1" ? "P2" : "P1";
              setStatus("Turn: " + (currentTurn === "P1" ? "P1" : "P2"));
              return;
            }
          }
        });
        board.appendChild(cell);
      }
    }
  }

  render();
  boardContainer.appendChild(board);
  setStatus("Turn: P1");
}

/* SOLO MODE */
soloToggleBtn.addEventListener("click", () => {
  soloPanel.style.display = soloPanel.style.display === "block" ? "none" : "block";
});
soloCloseBtn.addEventListener("click", () => {
  soloPanel.style.display = "none";
});

function renderSolo(){
  const game = soloGameSelect.value;
  const control = soloControlSelect.value;
  soloBoard.innerHTML = "";
  soloStatus.textContent = "";

  if(game === "tictactoe") renderSoloTicTacToe(control);
  else if(game === "rps") renderSoloRPS();
  else if(game === "connect4") renderSoloConnect4(control);
}

soloGameSelect.addEventListener("change", renderSolo);
soloControlSelect.addEventListener("change", renderSolo);

function renderSoloTicTacToe(control){
  const board = document.createElement("div");
  board.className = "board";
  board.style.gridTemplateColumns = "repeat(3, 24px)";
  const cells = Array(9).fill(null);
  let turn = "X";

  function checkWin(player){
    const lines = [
      [0,1,2],[3,4,5],[6,7,8],
      [0,3,6],[1,4,7],[2,5,8],
      [0,4,8],[2,4,6]
    ];
    return lines.some(([a,b,c]) => cells[a]===player && cells[b]===player && cells[c]===player);
  }
  function isFull(){ return cells.every(c => c !== null); }

  function aiMove(){
    const empty = cells.map((v,i)=>v?null:i).filter(v=>v!==null);
    if(empty.length === 0) return;
    const idx = empty[Math.floor(Math.random()*empty.length)];
    cells[idx] = "O";
    renderCells();
    if(checkWin("O")){
      soloStatus.textContent = "AI wins.";
      return;
    }
    if(isFull()){
      soloStatus.textContent = "Draw.";
      return;
    }
    turn = "X";
  }

  function renderCells(){
    board.innerHTML = "";
    cells.forEach((val,i)=>{
      const cell = document.createElement("div");
      cell.className = "board-cell";
      cell.style.width = "24px";
      cell.style.height = "24px";
      cell.textContent = val || "";
      cell.addEventListener("click", () => {
        if(cells[i] || soloStatus.textContent) return;
        if(control === "ai" && turn === "O") return;
        cells[i] = turn;
        renderCells();
        if(checkWin(turn)){
          soloStatus.textContent = turn === "X" ? "You win." : "O wins.";
          return;
        }
        if(isFull()){
          soloStatus.textContent = "Draw.";
          return;
        }
        if(control === "both"){
          turn = turn === "X" ? "O" : "X";
        } else if(control === "ai"){
          turn = "O";
          setTimeout(aiMove, 200);
        }
      });
      board.appendChild(cell);
    });
  }

  renderCells();
  soloBoard.appendChild(board);
  soloStatus.textContent = control === "ai" ? "You are X. AI is O." : "Control both sides.";
}

function renderSoloRPS(){
  const row = document.createElement("div");
  row.style.display = "flex";
  row.style.gap = "4px";
  const choices = ["","",""];
  choices.forEach(sym => {
    const btn = document.createElement("button");
    btn.textContent = sym;
    btn.style.flex = "1";
    btn.style.fontSize = "16px";
    btn.addEventListener("click", () => {
      const ai = choices[Math.floor(Math.random()*choices.length)];
      let result = "";
      if(sym === ai) result = "Draw.";
      else if(
        (sym==="" && ai==="") ||
        (sym==="" && ai==="") ||
        (sym==="" && ai==="")
      ) result = "You win.";
      else result = "AI wins.";
      soloStatus.textContent = `You: ${sym} | AI: ${ai}  ${result}`;
    });
    row.appendChild(btn);
  });
  soloBoard.appendChild(row);
  soloStatus.textContent = "Tap a symbol to play.";
}

function renderSoloConnect4(control){
  const rows = 6;
  const cols = 7;
  const grid = Array.from({length:rows}, () => Array(cols).fill(null));
  const board = document.createElement("div");
  board.className = "board";
  board.style.gridTemplateColumns = `repeat(${cols}, 24px)`;
  let turn = "";

  function checkWin(player){
    for(let r=0;r<rows;r++){
      for(let c=0;c<cols-3;c++){
        if(grid[r][c]===player && grid[r][c+1]===player && grid[r][c+2]===player && grid[r][c+3]===player) return true;
      }
    }
    for(let c=0;c<cols;c++){
      for(let r=0;r<rows-3;r++){
        if(grid[r][c]===player && grid[r+1][c]===player && grid[r+2][c]===player && grid[r+3][c]===player) return true;
      }
    }
    for(let r=0;r<rows-3;r++){
      for(let c=0;c<cols-3;c++){
        if(grid[r][c]===player && grid[r+1][c+1]===player && grid[r+2][c+2]===player && grid[r+3][c+3]===player) return true;
      }
    }
    for(let r=3;r<rows;r++){
      for(let c=0;c<cols-3;c++){
        if(grid[r][c]===player && grid[r-1][c+1]===player && grid[r-2][c+2]===player && grid[r-3][c+3]===player) return true;
      }
    }
    return false;
  }
  function isFull(){ return grid[0].every(c => c !== null); }

  function aiMove(){
    const possibleCols = [];
    for(let c=0;c<cols;c++){
      if(!grid[0][c]) possibleCols.push(c);
    }
    if(possibleCols.length === 0) return;
    const col = possibleCols[Math.floor(Math.random()*possibleCols.length)];
    for(let r=rows-1;r>=0;r--){
      if(!grid[r][col]){
        grid[r][col] = "";
        renderCells();
        if(checkWin("")){
          soloStatus.textContent = "AI wins.";
          return;
        }
        if(isFull()){
          soloStatus.textContent = "Draw.";
          return;
        }
        turn = "";
        return;
      }
    }
  }

  function renderCells(){
    board.innerHTML = "";
    for(let r=0;r<rows;r++){
      for(let c=0;c<cols;c++){
        const cell = document.createElement("div");
        cell.className = "board-cell";
        cell.style.width = "24px";
        cell.style.height = "24px";
        cell.textContent = grid[r][c] || "";
        cell.addEventListener("click", () => {
          if(soloStatus.textContent) return;
          if(control === "ai" && turn === "") return;
          for(let rr=rows-1; rr>=0; rr--){
            if(!grid[rr][c]){
              grid[rr][c] = turn;
              renderCells();
              if(checkWin(turn)){
                soloStatus.textContent = turn === "" ? "You win." : " wins.";
                return;
              }
              if(isFull()){
                soloStatus.textContent = "Draw.";
                return;
              }
              if(control === "both"){
                turn = turn === "" ? "" : "";
              } else if(control === "ai"){
                turn = "";
                setTimeout(aiMove, 200);
              }
              return;
            }
          }
        });
        board.appendChild(cell);
      }
    }
  }

  renderCells();
  soloBoard.appendChild(board);
  soloStatus.textContent = control === "ai" ? "You are . AI is ." : "Control both sides.";
}

renderSolo();
</script>
</body>
</html>